<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>EasySublease.org</title>
    <!-- Bootstrap -->
    <link  type="text/css" href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="css/es_custom_css1.css" rel="stylesheet"  type="text/css">
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="css/jquery-ui.css">
    <link rel="stylesheet" href="css/jquery-ui.structure.css">
    <link rel="stylesheet" href="css/jquery-ui.theme.css">
    
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDEgp09_feK-aKfo_2h3tOcWfzbrByZwDw&libraries=geometry"></script>
  </head>
  <body>
    <div id = "main_div">
      <div id = "title-big-div">
        <div id = "title-label-div" >
          EasySublease
        </div>
        <div id = "title-housing" class = "title-options1">
          Housing
        </div>
        <div id = "juju" class = "title-options1">
          Meetup <!-- <img src="images/work_in_progress.png" width="44" height="20" alt="some_text">-->
        </div>
        <div id = "travel-control-div" class = "title-options1">
          Ride
        </div>
        <div id = "about-div" class = "title-options1" >
          About
        </div>
      </div>
      <!-- end of #title-big-div-->
      <div class = "search-div">
        <div id = "rental-search-slot">
          <ul>
            <li>price per bed
              <ul  id = "ul_price_pbed_srch">
                <li id = "301-350">301-350/bedroom</li>
                <li id = "351-400">351-400/bedroom</li>
                <li id = "401-450">401-450/bedroom</li>
                <li id = "451-500">451-500/bedroom</li>
                <li id = "501-550">501-550/bedroom</li>
                <li id = "551-600">551-600/bedroom</li>
                <li id = "551-600">
                  <input type="text" id="price-min-ipt" name="price-min-ipt" placeholder = "price-min">
                  <input type="text" id="price-max-ipt" name="price-max-ipt" placeholder = "price-max">
                </li>
                <li>reset 取消价格限制</li>
              </ul>
            </li>
            <li> Bedrooms/Baths
              <ul id = "ul_bb_srch">
                <li>1/1</li>
                <li>2/1</li>
                <li>2/1.5</li>
                <li>2/2</li>
                <li>3/1</li>
                <li>3/2</li>
                <li>3/3</li>
                <li>
                  <input type="text" name="beds-min-ipt" id="beds-min-ipt"  placeholder = "beds-min">
                  <input type="text" name="beds-max-ipt" id="beds-max-ipt" placeholder = "beds-max">
                  <input type="text" name="baths-min-ipt" id="baths-min-ipt" placeholder = "baths-min">
                  <input type="text" name="baths-max-ipt" id="baths-max-ipt" placeholder = "baths-max">
                </li>
                <li>reset取消户型限制</li>
              </ul>
            </li>
            <li>Category
              <ul id = "ul_types_srch">
                <li data-rs-cat="1"  id="seeking-to-lease">seeking to lease</li>
                <li data-rs-cat="2" id = "seeking-to-rent">seeking to rent</li>
                <li data-rs-cat="3" id ="for-2-activity">seeking co-lessee</li>
                <li>reset 取消类型限制</li>
              </ul>
            </li>
          </ul>
        </div>
        <!--rental-search-slot ends-->
        
        <div id = "travel-search-slot" >
          <div class ="search-div-padding">
          </div>
          <div id ="travel-search-div">
            <div class="travel-search-inputgrp-contrl">
              <select id="slct-cat-tr-srch"  name = "slct-cat-tr-srch" class="form-control"  >
                <option value = "2">Those requiring ride</option>
                <option value = "1" >Those providing ride</option>
                <option value = "3">Self-driving travel</option>
              </select>
            </div>
            <div class="travel-search-inputgrp-contrl  ">
              <input type="text" class="form-control" placeholder="Origin"   id = "ipt-origin-tr-srch" name = "ipt-origin-tr-srch">
            </div>
            <div class = "travel-search-inputgrp-contrl">
              <input type="text" class="form-control" placeholder="Destiny"  id = "ipt-destiny-tr-srch" name = "ipt-destiny-tr-srch">
            </div>

            <div class = "travel-search-inputgrp-contrl">
              <input type="text" class="form-control" placeholder="mm/dd/yy"  id = "ipt-startdate-tr-srch" name = "ipt-startdate-tr-srch">
            </div>
            <div class = "travel-search-inputgrp-contrl">
              <input type="text" class="form-control" placeholder="mm/dd/yy"  id = "ipt-enddate-tr-srch" name = "ipt-enddate-tr-srch">
            </div>

            <div class = "travel-search-inputgrp-contrl">
              <button id="btn-submit-tr-srch"  class="travel-search-btn" type="submit" >Search</button>
            </div>
            <div class="travel-search-advanced_routing">
              <label>
                <input id = "checkbox-adv-routing" name ="checkbox-adv-routing" type="checkbox" value="yes" unchecked>
                Route Combining Algs </label>
            </div>
            <div class = "travel-search-hidden-inputgrp-contrl" >
              <input type="text" id = "ipt-ori-lat" name = "ipt-ori-lat" value = "">
              <input type="text" id = "ipt-ori-lng" name = "ipt-ori-lng" value = "">
              <input type="text" id = "ipt-des-lat" name = "ipt-des-lat" value = "">
              <input type="text" id = "ipt-des-lng" name = "ipt-des-lng" value = "">
            </div>
          </div>
          <!--travel-search-div-->
        </div>
        <!--travel-search-slot-->
        <div id = "sql-bash">
        </div>
      </div>
      <!-- end of <div class = "search-div">-->
      <div class ="gadgets-container">
        <div id = "travel-control-panel">
          plan route using Google service
        </div>
        <div  id = "about-panel">
          About will be shown here
        </div>
        <div id = "menu-panel" ></div> <!--the container of right click menu-->
      </div> 

      <div id = "map-div" > <!--this is where map is put in-->
      </div>

      <!-- this is where pano will be put in, much css style will be lif info-div-->
      <div id="pano-div"> 
      </div> 
      
      <div id = "info-div" class="input-group-dimension-control info-div-results-style">
        <div  id = "rental-form-slot">
          <img class = "form-rtn-btn" src="images/rtn.png" alt="return" height="32" width="32">

          <form id="rental-form"  >
            <div class="input-group ">
              <span class="input-group-addon easysub-form-control" id="basic-addon1">Community</span>
              <input type="text" data-bind="value:community, events:['keyup']" class="form-control easysub-form-control" placeholder="Like: Cedar ridge, filling suggested "  >
            </div>
            <div class="input-group">
              <span class="input-group-addon easysub-form-control" id="basic-addon1">Address</span>
              <input type="text" data-bind="value:addr, events:['keyup']" class="form-control easysub-form-control" placeholder="Street, City, Apt, not necessary"  >
            </div>
            <div class="input-group ">
              <span class="input-group-addon easysub-form-control" id="basic-addon1">Source URL</span>
              <input type="text" data-bind="value:source, events:['keyup']" class="form-control easysub-form-control" placeholder="http:// (necessary)"  >
            </div>
            <div class="input-group ">
              <span class="input-group-addon easysub-form-control" id="basic-addon1">total rent per month</span>
              <input type="text" data-bind="value:price_total, events:['keyup']" class="form-control easysub-form-control" placeholder="$ " >
            </div>
            <div class="btn-group  btn-cusom-contrl">
              <button id ="btn-captioin-bb" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> floor plan <span class="caret"></span> </button>
              <ul class="dropdown-menu" role="menu" id = "ul-floorplan">
                <li  id = "li-b10b10">1b/1b</li>
                <li  id = "li-b20b10">2b/1b</li>
                <li  id = "li-b20b15">2b/1.5b</li>
                <li  id = "li-b20b20">2b/2b</li>
                <li  id = "li-b30b20">3b/2b</li>
                <li  id = "li-b30b30">3b/3b</li>
                <li class="divider"></li>
                <div id = "n-bdrm" >
                  Bdrm number:<br>
                  <input type="text" id="custom-n-bdrm">
                </div>
                <div id = "n-btrm">
                  Bathrm number:<br>
                  <input type="text" id="custom-n-btrm">
                </div>
              </ul>
            </div>
            <!--floor plan dropdown btn-->
            
            <div class="btn-group btn-cusom-contrl ">
              <button id = "btn-caption-cat" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> category <span class="caret"></span> </button>
              <ul class="dropdown-menu" role="menu" id = "ul-catagory">
                <li id = "li-cat-lease">Want to lease</li>
                <li id = "li-cat-rent">Want to rent</li>
                <li id = "li-cat-activity">Seek co-lessee(一起租)</li>
              </ul>
            </div>
            <!--end floor plan dropdown btn-->

            <textarea data-bind="value:memo, events:['keyup']" class="form-control  easysub-form-control" rows="4" placeholder = "Enter additional memo here" id="textarea-memo" name ="memo"></textarea>
            <div>
              <input  class="btn btn-success " value="Quick Listing"  id="rental-form-submit">
              </input>
            </div>
            <div>
              <input  class="btn btn-primary " value="Detailed Listing"  id="detailed-listing-submit">
              </input>
            </div>
          </form>
          <p data-bind ="text:addr">
          </p>
        </div><!--/rental-form-slot-->
        
        
        <div id= "ride-form-slot" >
          <img class = "form-rtn-btn" src="images/rtn.png" alt="return" height="32" width="32">
          <form  id="ride-form" >
            <div class="input-group ">
              <span class="input-group-addon easysub-form-control" id="basic-addon1">Origin</span>
              <input type="text" class="form-control easysub-form-control" placeholder="Right click on map to set"  id = "ipt-origin-tr" name = "ipt-origin-tr">
            </div>
            <div class="input-group">
              <span class="input-group-addon easysub-form-control" id="basic-addon1">Destiny</span>
              <input type="text" class="form-control easysub-form-control" placeholder="Right click on map to set"  id ="ipt-destiny-tr" name = "ipt-destiny-tr">
            </div>
            <div class="input-group">
              <span class="input-group-addon easysub-form-control" id="basic-addon1">Source URL</span>
              <input type="text" class="form-control easysub-form-control" placeholder="http:// ( not necessary)"  id = "ipt-url-tr" name = "ipt-url-tr">
            </div>
            <div class="input-group">
              <span class="input-group-addon easysub-form-control" id="basic-addon1">Departure Date</span>
              <input type="text" class="form-control easysub-form-control" placeholder="MM/DD/YYYY"  id = "ipt-date-tr" name = "ipt-date-tr">
            </div>
            <div class="btn-group btn-cusom-contrl ">
              <button id = "btn-caption-cat-tr" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false"> category <span class="caret"></span> </button>
              <ul class="dropdown-menu" role="menu" id = "ul-catagory-tr">
                <li onClick="EasySubOrg.RIDE.form_view_01.updatecat_tr(this.id)" id = "li-cat-p-ride">Provide a ride</li>
                <li onClick="EasySubOrg.RIDE.form_view_01.updatecat_tr(this.id)" id = "li-cat-n-ride">Need a ride</li>
                <li onClick="EasySubOrg.RIDE.form_view_01.updatecat_tr(this.id)" id = "li-cat-sdt">Self-driving travel</li>
              </ul>
            </div>
            <!--floor plan dropdown btn--> 
            
            <!--hidden inputs-->
            <input style=" display:none" id = "num-catagory-tr"    name = "num-catagory-tr">
            </input>
            <input style=" display:none" id = "num-origin-lat-tr"  name = "num-origin-lat-tr">
            </input>
            <input style=" display:none" id = "num-origin-lng-tr"  name = "num-origin-lng-tr">
            </input>
            <input style=" display:none" id = "num-destiny-lat-tr" name = "num-destiny-lat-tr">
            </input>
            <input style=" display:none" id = "num-destiny-lng-tr" name = "num-destiny-lng-tr">
            </input>
            <!--<input style=" display:none" id = "string-jsonfied-tr" name = "string-jsonfied-tr"></input>-->
            <input style=" display:none" id = "encoded-polyline" name = "encoded-polyline">
            </input>
            
            <!--encoded polyline is going to be decoded into Array:LatLng--> 
            <!--/hidden inputs-->
            <textarea class="form-control " rows="4" placeholder = 
            "Enter additional information here, such as contact, what time you want to go, or some preference" id="memo-tr" name ="memo-tr"></textarea>
            <div>
              <input class="btn btn-success " value="Create" id="travel-form-submit" onClick="travel_post()">
              </input>
            </div>


          </form>
        </div>
        <div id = "rental-sesults-slot" >
          <img class = "form-rtn-btn" src="images/rtn.png" alt="return" height="32" width="32">
          <div  id="rental_search_results_container" > 
          <!-- EasySubOrg.INFO.info_view_01 poplulate will templated results, 
          template:route-infowindow-template-->
          rental results placeholder (dev)
          </div>
          <!--end of travel_search_results_container-->

        </div>

        <!--ride-form-slot-->
        <div id="ride-results-slot">
          <img class = "form-rtn-btn" src="images/rtn.png" alt="return" height="32" width="32">
          <div  id="travel_search_results_container" > <!-- EasySubOrg.INFO.info_view_01 poplulate will templated results, template:route-infowindow-template-->
          </div>
          <!--end of travel_search_results_container-->
          
        </div> <!--end of ride-results-slot#-->
      </div>
      <!--#info div-->

      
    </div> <!-- end of #main-div-->
    <script src="js/jquery.min.js"></script> 
    <script src="js/jquery-ui.js"></script> 
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) --> 
    <script src="js/bootstrap.js"></script> 
    <!--<script src="js/page_interaction.js">   </script>   mainly control form--> 
    <script src="js/underscore.js"  type="text/javascript" ></script> 
    <script src="js/backbone.js"  type ="text/javascript" ></script> <!--require underscore.js,  jquery.js--> 
    <script src="js/backbone.epoxy.min.js"></script>
    <!--self-defiled classes--> 
    <script src="js/es_createNS.js" type="text/javascript"></script> 
    <script src="js/es_MMoverlay.js" type="text/javascript"></script> 
    <script src="js/es_mapinteraction.js" type="text/javascript" ></script> <!--require MMoverlay.js,  --> 
    <script src="js/es_page_interaction.js" type="text/javascript"></script> 
    <script src="js/es_utilities.js" type="text/javascript" ></script> 
    <script src="js/es_Infodiv_manager.js" type="text/javascript"></script> 
    
    <div style=""></div>

    <!--template-->
    <!--following menu-template will receive html_content_ar as argument-->
    <script type="text/template" id="menu-template">

    <%_.each(html_content_ar, function (element, index, list) {%>
      <div class="menu-option-div">
        <%=element%>
      </div>
    <%});%>
    
    </script>
      <!--location, cat, url_str, memo, id--> 
    <script type="text/template" id="marker-infowindow-template">  
      <p style="font-weight:normal;"> 
        click to check  <a href= "<%= source %>" target="_blank">source</a>
      </p>  
      <p style="color:#000; font-weight:normal;  font-family: "Times New Roman", Times, serif; "><%= memo %></p>
      <p style = "font-weight : normal;" > 
        <span  onclick = 'EasySubOrg.MAP.render_01.set_status( "<%=id %>" , true, <%=  index%>);' onmouseover = "changecolor(this);" onmouseout="backcolor(this);">
        mark it as outdated</span>
      </p>
    </script> 
     <!--focusOn = function ( width_ratio, height_ratio, offset_ratio, focusID) -->
    <script type="text/template" id="route-infowindow-template"> 
    <% // ( width_ratio, height_ratio, offset_ratio, focusID)
      //var width_ratio = $("#info-div").width()/ $("#map-div").width();
      //passed in argument include width_ratio
      var width_ratio = 0.4
      var height_ratio = 1; // currently i did not change it, so I made on assumption
      var offset_ratio = 0.5- (width_ratio/2);
      var depart_date = depart_date.slice(0,10);
      var cat_bgcolor = ""
      if (cat_string == "Provide a ride") cat_bgcolor = "#1A4C80";
      else if (cat_string == "Need a ride") cat_bgcolor = "#00B800";
      else cat_bgcolor = "#993399"; 

      var depart_date_tmp = new Date(depart_date);
      var current_date = new Date();
      var date_bgcolor = "#8a8a8a";
      if (depart_date_tmp < current_date) { date_bgcolor = "#B80000";}
    %>
    <div class="travel_data_entry_div" onclick="mapcc1.focusOn(  <%=width_ratio%>, <%=height_ratio%>, <%=offset_ratio%> , '<%=id%>')"> 
      <div class="TDE_ori_des_container">
        <div class="TDE_bold TDE_origin_pad">Origin:</div><div class="TDE_origin"><%= origin %></div>
        <div class="TDE_bold TDE_destiny_pad">Destiny:</div><div class="TDE_destiny"><%= destiny %></div>
      </div>
      <div class="TDE_cat TDE_bold" style ="background-color:<%=cat_bgcolor%>"><%= cat_string%></div>
      <div class="TDE_bold TDE_date" style="background-color:<%=date_bgcolor%>"><%=depart_date%></div>
      <div class ="TDE_source"><a target="_blank" href= "<%=source%>" class="TDE_bold ">source</a></div>
      <div class ="TDE_padding_btw_markoutdated_source" >
      <!--This is actually one padding-->
      </div>
      <div  class ="TDE_markoutdated TDE_bold"  onclick="travel_set_status( '<%=id%>' , true);" onmouseover="changecolor(this);" onmouseout="backcolor(this);" style=" cursor: pointer;">mark outdated</div>

      <div class="TDE_sharable_url"><span class="TDE_bold">Sharable_url:</span> <a target="_blank" href="<%-window.location.href.split('#')[0]%>#ride_search/_id=<%=id%>">open in a new tab</a></div> 
      <div class="TDE_memo"><span class="TDE_bold">Memo:</span><%=memo%> </div> 
    </div>    
    </script> 
    <meta id="default-detailed-rental-listing" name="default-detailed-rental-listing" content='{"unit_traits":{"lat":30.615976343318405,"lng":-96.31885528564453,"price_single":null,"price_total":null,"community":"community name","addr":"addr string","beds":2,"baths":1,"property_type":"apartment","pet_friendly":false,"amenities_status":{"kitchen":true,"internet":true,"tv":false,"essentials":true,"shampoo":true,"heating":true,"air_conditiong":true,"washer":true,"dryer":true,"free_parking_on_premises":false,"wireless_internet":true,"cable_TV":false,"breakfast":false,"pets_allowed":false,"family/kid_friendly":false,"suitable_for_events":false,"smoking_allowed":true,"wheelchair_accessible":false,"elevator_in_building":false,"indoor_fireplace":true,"buzzer/wireless_Interoom":false,"doorman":false,"pool":false,"hot_tub":false,"gym":false},"description":[["title1","h1"],["content1",null]],"house_rules":"Please be kind, clean, respectful, peaceful.","safety_features":{"smoke_detector":true,"carbon_monoxide_detector":true,"first_aid_kit":true,"safety_card":true,"fire_extinguisher":true},"availability":"from July 2015 to June 2016"},"user_behavior":{"cat":1,"target_whole_unit":false,"target_single_room":true},"listing_related":{"title":"Listing Title","about_this_listing":"Briefly descrip the property you want to list, why you want to list, what you would like to offer or ask","isexpired":false,"images":[],"cover_image":"default.png","post_date":"2015-06-01T09:46:16.000Z","optional_traits_switch":{"unit_traits.description":false,"unit_traits.house_rules":false,"unit_traits.safety_features":false}}}'>
  </body>
</html>
