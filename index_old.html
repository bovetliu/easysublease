<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>EasySublease.org</title>
    <!-- Bootstrap-->
    <link type="text/css" href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template-->
    <link href="css/es_custom_css1.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,400" rel="stylesheet" type="text/css">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries-->
    <!-- WARNING: Respond.js doesn't work if you view the page via file://-->
    <!--if lt IE 9
    script(src='https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js')
    script(src='https://oss.maxcdn.com/respond/1.4.2/respond.min.js')
    -->
    <link rel="stylesheet" href="css/jquery-ui.css">
    <link rel="stylesheet" href="css/jquery-ui.structure.css">
    <link rel="stylesheet" href="css/jquery-ui.theme.css">
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDEgp09_feK-aKfo_2h3tOcWfzbrByZwDw&amp;libraries=geometry"></script>
  </head>
  <body>
    <div id="main_div">
      <div id="title-big-div">
        <div id="title-label-div">EasySublease</div>
        <div id="title-housing" class="title-options1">Housing</div>
        <div id="juju" class="title-options1">Meetup
          <!-- <img src="images/work_in_progress.png" width="44" height="20" alt="some_text">-->
        </div>
        <div id="travel-control-div" class="title-options1">Ride</div>
        <div id="about-div" class="title-options1">About</div>
      </div>
      <!-- end of #title-big-div-->
      <div class="search-div">
        <div id="rental-search-slot">
          <ul>
            <li>price per bed
              <ul id="ul_price_pbed_srch">
                <li id="301-350">301-350/bedroom</li>
                <li id="351-400">351-400/bedroom</li>
                <li id="401-450">401-450/bedroom</li>
                <li id="451-500">451-500/bedroom</li>
                <li id="501-550">501-550/bedroom</li>
                <li id="551-600">551-600/bedroom</li>
                <li id="551-600">
                  <input id="price-min-ipt" type="text" name="price-min-ipt" placeholder="price-min">
                  <input id="price-max-ipt" type="text" name="price-max-ipt" placeholder="price-max">
                </li>
                <li>reset 取消价格限制</li>
              </ul>
            </li>
            <li>Bedrooms/Baths
              <ul id="ul_bb_srch">
                <li>1/1</li>
                <li>2/1</li>
                <li>2/1.5</li>
                <li>2/2</li>
                <li>3/1</li>
                <li>3/2</li>
                <li>3/3</li>
                <li>
                  <input id="beds-min-ipt" type="text" name="beds-min-ipt" placeholder="beds-min">
                  <input id="beds-max-ipt" type="text" name="beds-max-ipt" placeholder="beds-max">
                  <input id="baths-min-ipt" type="text" name="baths-min-ipt" placeholder="baths-min">
                  <input id="baths-max-ipt" type="text" name="baths-max-ipt" placeholder="baths-max">
                </li>
                <li>reset取消户型限制</li>
              </ul>
            </li>
            <li>Category
              <ul id="ul_types_srch">
                <li id="seeking-to-lease" data-rs-cat="1">seeking to lease</li>
                <li id="seeking-to-rent" data-rs-cat="2">seeking to rent</li>
                <li id="for-2-activity" data-rs-cat="3">seeking co-lessee</li>
                <li>reset 取消类型限制</li>
              </ul>
            </li>
          </ul>
        </div>
        <!-- rental-search-slot ends-->
        <div id="travel-search-slot">
          <div class="search-div-padding"></div>
          <div id="travel-search-div">
            <div class="travel-search-inputgrp-contrl">
              <select id="slct-cat-tr-srch" name="slct-cat-tr-srch" class="form-control">
                <option value="2">Those requiring ride</option>
                <option value="1">Those providing ride</option>
                <option value="3">Self-driving travel</option>
              </select>
            </div>
            <div class="travel-search-inputgrp-contrl">
              <input id="ipt-origin-tr-srch" type="text" placeholder="Origin" name="ipt-origin-tr-srch" class="form-control">
            </div>
            <div class="travel-search-inputgrp-contrl">
              <input id="ipt-destiny-tr-srch" type="text" placeholder="Destiny" name="ipt-destiny-tr-srch" class="form-control">
            </div>
            <div class="travel-search-inputgrp-contrl">
              <input id="ipt-startdate-tr-srch" type="text" placeholder="mm/dd/yy" name="ipt-startdate-tr-srch" class="form-control">
            </div>
            <div class="travel-search-inputgrp-contrl">
              <input id="ipt-enddate-tr-srch" type="text" placeholder="mm/dd/yy" name="ipt-enddate-tr-srch" class="form-control">
            </div>
            <div class="travel-search-inputgrp-contrl">
              <button id="btn-submit-tr-srch" type="submit" class="travel-search-btn">Search</button>
            </div>
            <div class="travel-search-advanced_routing">
              <label>
                <input id="checkbox-adv-routing" name="checkbox-adv-routing" type="checkbox" value="yes" unchecked="">                Route Combining Algs
              </label>
            </div>
            <div class="travel-search-hidden-inputgrp-contrl">
              <input id="ipt-ori-lat" type="text" name="ipt-ori-lat" value="">
              <input id="ipt-ori-lng" type="text" name="ipt-ori-lng" value="">
              <input id="ipt-des-lat" type="text" name="ipt-des-lat" value="">
              <input id="ipt-des-lng" type="text" name="ipt-des-lng" value="">
            </div>
          </div>
          <!-- travel-search-div-->
        </div>
        <!-- travel-search-slot-->
        <div id="sql-bash"></div>
      </div>
      <!-- end of <div class = "search-div">-->
      <div class="gadgets-container">
        <div id="travel-control-panel">plan route using Google service</div>
        <div id="about-panel">About will be shown here</div>
        <div id="menu-panel"></div>
        <!-- the container of right click menu-->
      </div>
      <div id="map-div">
        <!-- this is where map is put in-->
      </div>
      <!-- this is where pano will be put in, much css style will be lif info-div-->
      <div id="pano-div"></div>
      <div id="info-div" class="input-group-dimension-control info-div-results-style">
        <div id="rental-form-slot"><img src="images/rtn.png" alt="return" height="32" width="32" class="form-rtn-btn">
          <form id="rental-form">
            <div class="input-group"><span id="basic-addon1" class="input-group-addon easysub-form-control">Community</span>
              <input type="text" data-bind="value:community, events:['keyup']" placeholder="Like: Cedar ridge, filling suggested " class="form-control easysub-form-control">
            </div>
            <div class="input-group"><span id="basic-addon1" class="input-group-addon easysub-form-control">Address</span>
              <input type="text" data-bind="value:addr, events:['keyup']" placeholder="Street, City, Apt, not necessary" class="form-control easysub-form-control">
            </div>
            <div class="input-group"><span id="basic-addon1" class="input-group-addon easysub-form-control">Source URL</span>
              <input type="text" data-bind="value:source, events:['keyup']" placeholder="http:// (necessary)" class="form-control easysub-form-control">
            </div>
            <div class="input-group"><span id="basic-addon1" class="input-group-addon easysub-form-control">total rent per month</span>
              <input type="text" data-bind="value:price_total, events:['keyup']" placeholder="$ " class="form-control easysub-form-control">
            </div>
            <div class="btn-group btn-cusom-contrl">
              <button id="btn-captioin-bb" type="button" data-toggle="dropdown" aria-expanded="false" class="btn btn-default dropdown-toggle">floor plan <span class="caret"></span></button>
              <ul id="ul-floorplan" role="menu" class="dropdown-menu">
                <li id="li-b10b10">1b/1b</li>
                <li id="li-b20b10">2b/1b</li>
                <li id="li-b20b15">2b/1.5b</li>
                <li id="li-b20b20">2b/2b</li>
                <li id="li-b30b20">3b/2b</li>
                <li id="li-b30b30">3b/3b</li>
                <li class="divider"></li>
                <div id="n-bdrm">Bdrm number:<br>
                  <input id="custom-n-bdrm" type="text">
                </div>
                <div id="n-btrm">Bathrm number:<br>
                  <input id="custom-n-btrm" type="text">
                </div>
              </ul>
            </div>
            <!-- floor plan dropdown btn-->
            <div class="btn-group btn-cusom-contrl">
              <button id="btn-caption-cat" type="button" data-toggle="dropdown" aria-expanded="false" class="btn btn-default dropdown-toggle">category <span class="caret"></span></button>
              <ul id="ul-catagory" role="menu" class="dropdown-menu">
                <li id="li-cat-lease">Want to lease</li>
                <li id="li-cat-rent">Want to rent</li>
                <li id="li-cat-activity">Seek co-lessee(一起租)</li>
              </ul>
            </div>
            <!-- end floor plan dropdown btn-->
            <textarea id="textarea-memo" data-bind="value:memo, events:['keyup']" rows="4" placeholder="Enter additional memo here" name="memo" class="form-control easysub-form-control"></textarea>
            <div>
              <input id="rental-form-submit" value="Quick Listing" class="btn btn-success">
            </div>
            <div>
              <input id="detailed-listing-submit" value="Detailed Listing" class="btn btn-primary">
            </div>
          </form>
          <p data-bind="text:addr"></p>
        </div>
        <!-- /rental-form-slot-->
        <div id="ride-form-slot"><img src="images/rtn.png" alt="return" height="32" width="32" class="form-rtn-btn">
          <form id="ride-form">
            <div class="input-group"><span id="basic-addon1" class="input-group-addon easysub-form-control">Origin</span>
              <input id="ipt-origin-tr" type="text" placeholder="Right click on map to set" name="ipt-origin-tr" class="form-control easysub-form-control">
            </div>
            <div class="input-group"><span id="basic-addon1" class="input-group-addon easysub-form-control">Destiny</span>
              <input id="ipt-destiny-tr" type="text" placeholder="Right click on map to set" name="ipt-destiny-tr" class="form-control easysub-form-control">
            </div>
            <div class="input-group"><span id="basic-addon1" class="input-group-addon easysub-form-control">Source URL</span>
              <input id="ipt-url-tr" type="text" placeholder="http:// ( not necessary)" name="ipt-url-tr" class="form-control easysub-form-control">
            </div>
            <div class="input-group"><span id="basic-addon1" class="input-group-addon easysub-form-control">Departure Date</span>
              <input id="ipt-date-tr" type="text" placeholder="MM/DD/YYYY" name="ipt-date-tr" class="form-control easysub-form-control">
            </div>
            <div class="btn-group btn-cusom-contrl">
              <button id="btn-caption-cat-tr" type="button" data-toggle="dropdown" aria-expanded="false" class="btn btn-default dropdown-toggle">category <span class="caret"></span></button>
              <ul id="ul-catagory-tr" role="menu" class="dropdown-menu">
                <li id="li-cat-p-ride" onclick="EasySubOrg.RIDE.form_view_01.updatecat_tr(this.id)">Provide a ride</li>
                <li id="li-cat-n-ride" onclick="EasySubOrg.RIDE.form_view_01.updatecat_tr(this.id)">Need a ride</li>
                <li id="li-cat-sdt" onclick="EasySubOrg.RIDE.form_view_01.updatecat_tr(this.id)">Self-driving travel</li>
              </ul>
            </div>
            <!-- floor plan dropdown btn-->
            <!-- hidden inputs-->
            <input id="num-catagory-tr" style=" display:none" name="num-catagory-tr">
            <input id="num-origin-lat-tr" style=" display:none" name="num-origin-lat-tr">
            <input id="num-origin-lng-tr" style=" display:none" name="num-origin-lng-tr">
            <input id="num-destiny-lat-tr" style=" display:none" name="num-destiny-lat-tr">
            <input id="num-destiny-lng-tr" style=" display:none" name="num-destiny-lng-tr">
            <!-- <input style=" display:none" id = "string-jsonfied-tr" name = "string-jsonfied-tr"></input>-->
            <input id="encoded-polyline" style=" display:none" name="encoded-polyline">
            <!-- encoded polyline is going to be decoded into Array:LatLng-->
            <!-- /hidden inputs-->
            <textarea id="memo-tr" rows="4" placeholder="Enter additional information here, such as contact, what time you want to go, or some preference" name="memo-tr" class="form-control"></textarea>
            <div>
              <input id="travel-form-submit" value="Create" onclick="travel_post()" class="btn btn-success">
            </div>
          </form>
        </div>
        <div id="rental-sesults-slot"><img src="images/rtn.png" alt="return" height="32" width="32" class="form-rtn-btn">
          <div id="rental_search_results_container">
            <!--
            EasySubOrg.INFO.info_view_01 poplulate will templated results,
            template:route-infowindow-template
            -->rental results placeholder (dev)
          </div>
          <!-- end of travel_search_results_container-->
        </div>
        <!-- ride-form-slot-->
        <div id="ride-results-slot"><img src="images/rtn.png" alt="return" height="32" width="32" class="form-rtn-btn">
          <div id="travel_search_results_container">
            <!-- EasySubOrg.INFO.info_view_01 poplulate will templated results, template:route-infowindow-template-->
          </div>
          <!-- end of travel_search_results_container-->
        </div>
        <!-- end of ride-results-slot#-->
      </div>
      <!-- #info div-->
    </div>
    <!-- end of #main-div-->
    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-ui.js"></script>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins)-->
    <script src="js/bootstrap.js"></script>
    <!-- <script src="js/page_interaction.js">   </script>   mainly control form-->
    <script src="js/underscore.js" type="text/javascript"></script>
    <script src="js/backbone.js" type="text/javascript"></script>
    <!-- require underscore.js,  jquery.js-->
    <script src="js/backbone.epoxy.min.js"></script>
    <!-- self-defiled classes-->
    <script src="js/es_createNS.js" type="text/javascript"></script>
    <script src="js/es_MMoverlay.js" type="text/javascript"></script>
    <script src="js/es_mapinteraction.js" type="text/javascript"></script>
    <!-- require MMoverlay.js,-->
    <script src="js/es_page_interaction.js" type="text/javascript"></script>
    <script src="js/es_utilities.js" type="text/javascript"></script>
    <script src="js/es_Infodiv_manager.js" type="text/javascript"></script>
    <div style=""></div>
    <script type="text/template" id="menu-template">
      <%_.each(html_content_ar, function (element, index, list) {%>
        <div class="menu-option-div">
          <%=element%>
        </div>
      <%});%>
    </script>
    <!--location, cat, url_str, memo, id-->
    <script type="text/template" id="marker-infowindow-template">
      <p style="font-weight:normal;"> 
        click to check  <a href= "<%= source %>" target="_blank">source</a>
      </p>  
      <p style="color:#000; font-weight:normal;  font-family: "Times New Roman", Times, serif; "><%= memo %></p>
      <p style = "font-weight : normal;" > 
        <span  onclick = 'EasySubOrg.MAP.render_01.set_status( "<%=id %>" , true, <%=  index%>);' onmouseover = "changecolor(this);" onmouseout="backcolor(this);"> mark it as outdated</span>
      </p>
      
      
    </script>
    <!-- focusOn = function ( width_ratio, height_ratio, offset_ratio, focusID) -->
    <script type="text/template" id="route-infowindow-template">
      <% 
        // ( width_ratio, height_ratio, offset_ratio, focusID)
        //var width_ratio = $("#info-div").width()/ $("#map-div").width();
        //passed in argument include width_ratio
        var width_ratio = 0.4
        var height_ratio = 1; // currently i did not change it, so I made on assumption
        var offset_ratio = 0.5- (width_ratio/2);
        var depart_date = depart_date.slice(0,10);
        var cat_bgcolor = ""
        if (cat_string == "Provide a ride") cat_bgcolor = "#1A4C80";
        else if (cat_string == "Need a ride") cat_bgcolor = "#00B800";
        else cat_bgcolor = "#993399"; 
        var depart_date_tmp = new Date(depart_date);
        var current_date = new Date();
        var date_bgcolor = "#8a8a8a";
        if (depart_date_tmp < current_date) { date_bgcolor = "#B80000";}
      %>
      <div class="travel_data_entry_div" onclick="mapcc1.focusOn(  <%=width_ratio%>, <%=height_ratio%>, <%=offset_ratio%> , '<%=id%>')"> 
        <div class="TDE_ori_des_container">
          <div class="TDE_bold TDE_origin_pad">Origin:</div><div class="TDE_origin"><%= origin %></div>
          <div class="TDE_bold TDE_destiny_pad">Destiny:</div><div class="TDE_destiny"><%= destiny %></div>
        </div>
        <div class="TDE_cat TDE_bold" style ="background-color:<%=cat_bgcolor%>"><%= cat_string%></div>
        <div class="TDE_bold TDE_date" style="background-color:<%=date_bgcolor%>"><%=depart_date%></div>
        <div class ="TDE_source"><a target="_blank" href= "<%=source%>" class="TDE_bold ">source</a></div>
        <div class ="TDE_padding_btw_markoutdated_source" >
          <!--This is actually one padding-->
        </div>
        <div  class ="TDE_markoutdated TDE_bold"  onclick="travel_set_status( '<%=id%>' , true);" onmouseover="changecolor(this);" onmouseout="backcolor(this);" style=" cursor: pointer;">mark outdated</div>
      
        <div class="TDE_sharable_url"><span class="TDE_bold">Sharable_url:</span> <a target="_blank" href="<%-window.location.href.split('#')[0]%>#ride_search/_id=<%=id%>">open in a new tab</a></div> 
        <div class="TDE_memo"><span class="TDE_bold">Memo:</span><%=memo%> </div> 
      </div>    
    </script>
  </body>
</html>